(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["viewBookChapter"],{"0a94":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{staticStyle:{padding:"10px"},attrs:{tabindex:"1"}},[r("el-col",{staticClass:"book-info",attrs:{span:24}},[r("el-row",{attrs:{type:"flex",justify:"end"}},[r("el-col",{attrs:{span:8,xs:24}},[r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.back()}}},[t._v("后退")]),r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.prevBook(-1)}}},[t._v("上一本")]),r("el-button",{attrs:{size:"small"},on:{click:function(e){return t.nextBook(1)}}},[t._v("下一本")])],1)],1),r("el-row",[r("el-col",{attrs:{span:6,xs:24}},[r("div",{staticClass:"avatar"},[r("img",{attrs:{src:(t.book.avatar,0),alt:t.book.title}})])]),r("el-col",{attrs:{span:18,xs:24}},[r("el-row",[r("el-col",{attrs:{span:6,xs:24}},[r("div",{staticClass:"book-name text-left"},[t._v(t._s(t.book.title))])])],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"author text-left"},[t._v("作者："+t._s(t.book.author))])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"status text-left"},[t._v(" 状态："+t._s(t.book.status>0?"完结":"连载中")+" ")])])],1),r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"last-time text-left"},[t._v(" 最后更新："+t._s(t.book.last_time?t.book.last_time:"空")+" ")])]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"last-chapter text-left"},[t._v(" 更新章节："+t._s(t.book.last_chapter?t.book.last_chapter:"空")+" ")])])],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"intro text-left"},[t._v(" "+t._s(t.book.intor?t.book.intor:"空")+" ")])])],1)],1)],1)],1),r("el-col",{attrs:{span:24}},[r("div",{staticClass:"chapter-table"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.book.chapters,border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"cid",width:"100",label:"章节ID"}}),r("el-table-column",{attrs:{prop:"title",label:"章节名"}}),r("el-table-column",{attrs:{fixed:"right",width:"200",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return e.row.cid?[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.viewClick(e.row)}}},[t._v("查看")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.editClick(e.row)}}},[t._v("编辑")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.add(e.row,0)}}},[t._v("上加 ")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.add(e.row,1)}}},[t._v("下加 ")]),r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.delRow(e.row,e.$index)}}},[t._v("删除 ")])]:void 0}}],null,!0)})],1)],1),r("el-pagination",{attrs:{"page-sizes":[5,10,20,40],"page-size":t.pageSize,background:"","current-page":t.currentPage,layout:"sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],1)},n=[],o=(r("a4d3"),r("99af"),r("4de4"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("159b"),r("ade3")),i=(r("96cf"),r("2f62"));function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function c(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l={name:"view-book-chapters",data:function(){return{chapters:[],chapters_key:"",chapterInfo:{}}},created:function(){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.getBook(c({},this.$route.params,{pageSize:this.pageSize,currentPage:this.currentPage})));case 2:case"end":return t.stop()}}),null,this)},watch:{$route:function(t,e){t.path!==e.path&&this.getBook(c({},this.$route.params,{pageSize:this.pageSize,currentPage:this.currentPage}))}},computed:c({},Object(i["c"])({dialogVisible:function(t){return t.dialogVisible}}),{},Object(i["c"])("mBook",{book:function(t){return t.book},total:function(t){return t.total},pageSize:function(t){return t.pageSize},currentPage:function(t){return t.currentPage}})),methods:c({},Object(i["b"])("mBook",["getBook","setPageSize","setCurrentPage","nextBookPage"]),{},Object(i["b"])("mChapter",["setNewChapter","deleteChapter"]),{viewChapter:function(t){this.$router.push("/view-chapter/".concat(this.book.index,"/").concat(t.aid,"/").concat(t.cid))},viewClick:function(t){this.$router.push("/view-chapter/".concat(this.book.index,"/").concat(t.aid,"/").concat(t.cid))},editClick:function(t){this.$router.push("/edit-chapter/".concat(this.book.index,"/").concat(t.aid,"/").concat(t.cid))},add:function(t,e){this.setNewChapter({aid:t.aid,cid:t.cid,title:null,index:e,book_index:this.book.index}),this.$router.push("/add-chapter")},delRow:function(t){var e=this;this.deleteChapter(c({},t,{index:this.book.index})),setTimeout((function(){e.getBook(c({},e.$route.params,{pageSize:e.pageSize,currentPage:e.currentPage}))}),200)},prevBook:function(t){this.nextBookPage({page:this,index:this.book.index+t})},nextBook:function(t){this.nextBookPage({page:this,index:this.book.index+t})},sizeChange:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.getBook(c({},this.$route.params,{pageSize:t,currentPage:this.currentPage})));case 2:case"end":return e.stop()}}),null,this)},currentChange:function(t){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.getBook(c({},this.$route.params,{currentPage:t,pageSize:this.pageSize})));case 2:case"end":return e.stop()}}),null,this)},back:function(){this.$router.go(-1)}})},u=l,p=(r("b193"),r("2877")),h=Object(p["a"])(u,a,n,!1,null,null,null);e["default"]=h.exports},b193:function(t,e,r){"use strict";var a=r("c661"),n=r.n(a);n.a},c661:function(t,e,r){}}]);
//# sourceMappingURL=viewBookChapter.e4d4fe07.js.map